<div class="page-header">
  <div>
    <p class="lede text-muted">
      Import your delivery CSV, pick a route, and start the run; use export to back up anytime. Data stays local for offline use.
    </p>
  </div>
</div>

<section class="card hero">
  <div class="actions">
    <button type="button" class="btn btn-primary" (click)="fileInput.click()" [disabled]="isImporting">
      {{ isImporting ? 'Importing…' : 'Import CSV' }}
    </button>
    <button type="button" class="btn btn-secondary" (click)="exportCsv()" [disabled]="isExporting">
      {{ isExporting ? 'Preparing…' : 'Backup (CSV)' }}
    </button>
    <input
      #fileInput
      type="file"
      accept=".csv,text/csv"
      hidden
      (change)="onFileSelected($event)"
    />
  </div>
  <div class="subtext text-muted" *ngIf="lastBackupAt">
    Last backup: {{ lastBackupAt | date : 'short' }}
  </div>
  <div class="error" *ngIf="errorMessage">{{ errorMessage }}</div>
</section>
